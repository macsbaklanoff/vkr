<div class="profile">
  <div class="profile__main">
    <div class="profile__main__main-info-user">
      <img class="image" src="assets/logo_profile_user.svg">
      <div class='profile__main__main-info-user__block'>
        <div class="profile__main__main-info-user__block__left">
          <p class="profile__main__main-info-user__block__left__text">Name:</p>
          <p class="profile__main__main-info-user__block__left__text">Email:</p>
          <p class="profile__main__main-info-user__block__left__text">Role:</p>
          <p class="profile__main__main-info-user__block__left__text">Group:</p>
        </div>
        <div class="profile__main__main-info-user__block__right">
          <p
            class="profile__main__main-info-user__block__right__text">{{ authData?.firstName }} {{ authData?.lastName }}</p>
          <p class="profile__main__main-info-user__block__right__text">{{ authData?.email }}</p>
          <p class="profile__main__main-info-user__block__right__text">{{ authData?.roleName }}</p>
          @if (authData?.groupName != null) {
            <p class="profile__main__main-info-user__block__right__text">{{ authData?.groupName }}</p>
          } @else {
            <p class="profile__main__main-info-user__block__right__text">...</p>
          }
        </div>
      </div>
    </div>
    <div class="profile__main__line"></div>
    <div class="profile__main__works-info-user">
      <h4 class="profile__main__works-info-user__header">Works:</h4>
      <div class="profile__main__works-info-user__block">
        <div class="profile__main__works-info-user__block__left">
          <p class="profile__main__works-info-user__block__left__text">Number of sent files:</p>
          <p class="profile__main__works-info-user__block__left__text">Rated excellent:</p>
          <p class="profile__main__works-info-user__block__left__text">Rated good:</p>
          <p class="profile__main__works-info-user__block__left__text">Rated as satisfactory:</p>
          <p class="profile__main__works-info-user__block__left__text">Rated as unsatisfactory:</p>
        </div>
        <div class="profile__main__works-info-user__block__right">
          <p class="profile__main__works-info-user__block__left__text">{{ estimationData.countWorks }}</p>
          <p class="profile__main__works-info-user__block__left__text">{{ estimationData.countRatedExc }}</p>
          <p class="profile__main__works-info-user__block__left__text">{{ estimationData.countRatedGood }}</p>
          <p class="profile__main__works-info-user__block__left__text">{{ estimationData.countRatedSatisfactory }}</p>
          <p class="profile__main__works-info-user__block__left__text">{{ estimationData.countRatedUnSatisfactory }}</p>
        </div>
      </div>
    </div>
    <button mat-flat-button>View More</button>
  </div>
  <div class="profile__info">
    <mat-tab-group>
      <mat-tab label="Account Settings">
        <div class="profile__info__settings">
          <div class="profile__info__settings__main">
            <div class="profile__info__settings__main__labels">
              <p class="profile__info__settings__main__labels__text">First name:</p>
              <p class="profile__info__settings__main__labels__text">Last name:</p>
              <p class="profile__info__settings__main__labels__text">Email:</p>
              <p class="profile__info__settings__main__labels__text">Group:</p>
            </div>
            <div class="profile__info__settings__main__inputs">
              <div class="profile__info__settings__main__inputs__item">
                <input
                  class="profile__info__settings__main__inputs__item__input"
                  matInput
                  type="text"
                  [(ngModel)]="firstName"
                  [disabled]="!isEditable"
                >
              </div>
              <div class="profile__info__settings__main__inputs__item">
                <input
                  class="profile__info__settings__main__inputs__item__input"
                  matInput
                  type="text"
                  [(ngModel)]="lastName"
                  [disabled]="!isEditable"
                >
              </div>
              <div class="profile__info__settings__main__inputs__item">
                <input
                  class="profile__info__settings__main__inputs__item__input"
                  matInput
                  type="text"
                  [(ngModel)]="email"
                  [disabled]="!isEditable"
                >
              </div>
              <div class="profile__info__settings__main__inputs__item">
                <input
                  class="profile__info__settings__main__inputs__item__input"
                  matInput
                  type="text"
                  [(ngModel)]="groupName"
                  [disabled]="!isEditable"
                >
              </div>
            </div>
          </div>
          <div class="profile__info__settings__buttons">
            <div></div>
            <div class="profile__info__settings__buttons__content">
              <button mat-flat-button>Reset</button>
              <button mat-flat-button (click)="changeStateEdit()">Edit</button>
              <button mat-flat-button (click)="updateUserData()">Update</button>
            </div>
          </div>
        </div>
      </mat-tab>
      <mat-tab label="Works">
        <div class="profile__info__files">
          @for (file of filesData; track file) {
            <div class="profile__info__files__item"
                 [ngStyle]="{'--color': getColor(file.estContent + file.estRelevance + file.estStylistic)}"
            >
              <div class="profile__info__files__item__left">
                <p class="profile__info__files__item__left__text">Предмет: {{ file.academicSubject }}</p>
                <p class="profile__info__files__item__left__text">Тема работы: {{ file.topicWork }}</p>
                <p class="profile__info__files__item__left__text">Оценка содержания (0-50): {{ file.estContent }}</p>
                <p class="profile__info__files__item__left__text">Оценка актуальности (0-25): {{ file.estRelevance }}</p>
                <p class="profile__info__files__item__left__text">Оценка стилистики (0-25): {{ file.estStylistic }}</p>
                <p class="profile__info__files__item__left__text">Итоговый
                  балл: <b>{{ file.estContent + file.estRelevance + file.estStylistic }}</b></p>
                <p class="profile__info__files__item__left__text">
                  Рекоммендации по улучшению учебной работы: {{ file.estRecommendations }}
                </p>
              </div>
              <div class="profile__info__files__item__right"
              ></div>
            </div>
          }
        </div>
      </mat-tab>
    </mat-tab-group>
<!--        <div class="profile__info__header">-->
<!--          <h3>Account Settings</h3>-->
<!--        </div>-->
<!--        <div class="profile__info__line"></div>-->
<!--        <div class="profile__info__main">-->
<!--          <div class="profile__info__main__labels">-->
<!--            <p class="profile__info__main__labels__text">First name:</p>-->
<!--            <p class="profile__info__main__labels__text">Last name:</p>-->
<!--            <p class="profile__info__main__labels__text">Email:</p>-->
<!--            <p class="profile__info__main__labels__text">Group:</p>-->
<!--          </div>-->
<!--          <div class="profile__info__main__inputs">-->
<!--            <div class="profile__info__main__inputs__item">-->
<!--              <input-->
<!--                class="profile__info__main__inputs__item__input"-->
<!--                matInput-->
<!--                type="text"-->
<!--                [(ngModel)]="firstName"-->
<!--                [disabled]="!isEditable"-->
<!--              >-->
<!--            </div>-->
<!--            <div class="profile__info__main__inputs__item">-->
<!--              <input-->
<!--                class="profile__info__main__inputs__item__input"-->
<!--                matInput-->
<!--                type="text"-->
<!--                [(ngModel)]="lastName"-->
<!--                [disabled]="!isEditable"-->
<!--              >-->
<!--            </div>-->
<!--            <div class="profile__info__main__inputs__item">-->
<!--              <input-->
<!--                class="profile__info__main__inputs__item__input"-->
<!--                matInput-->
<!--                type="text"-->
<!--                [(ngModel)]="email"-->
<!--                [disabled]="!isEditable"-->
<!--              >-->
<!--            </div>-->
<!--            <div class="profile__info__main__inputs__item">-->
<!--              <input-->
<!--                class="profile__info__main__inputs__item__input"-->
<!--                matInput-->
<!--                type="text"-->
<!--                [(ngModel)]="groupName"-->
<!--                [disabled]="!isEditable"-->
<!--              >-->
<!--            </div>-->
<!--          </div>-->
<!--        </div>-->
<!--        <div class="profile__info__buttons">-->
<!--          <div></div>-->
<!--          <div class="profile__info__buttons__content">-->
<!--            <button mat-flat-button>Reset</button>-->
<!--            <button mat-flat-button (click)="changeStateEdit()">Edit</button>-->
<!--            <button mat-flat-button (click)="updateUserData()">Update</button>-->
<!--          </div>-->
<!--        </div>-->
  </div>
</div>
